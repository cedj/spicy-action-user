// Generated by CoffeeScript 1.12.2
(function() {
  var debug;

  debug = (require('debug'))("spicy-action-user:mixin");

  module.exports = function() {
    return {
      init: function() {
        this.user = {
          admin: false
        };
        return this.on('mount', function() {
          return this.ev.on('user-data', (function(_this) {
            return function(user) {
              return _this.update({
                user: user
              });
            };
          })(this));
        });
      },
      include: function() {
        this.on('ready', function() {
          debug('received ready', this.data);
          return this.ev.trigger('user-data', this.data);
        });
        this.emit('join');
        return this.ev.on('set-user-param', function(name, value) {
          debug('set-user-param', name, value);
          return this.emit('set_user_param', name, value);
        });
      }
    };
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWl4aW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJtaXhpbi5jb2ZmZWUubWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVJO0FBQUEsTUFBQTs7RUFBQSxLQUFBLEdBQVEsQ0FBQyxPQUFBLENBQVEsT0FBUixDQUFELENBQUEsQ0FBa0IseUJBQWxCOztFQUVSLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLFNBQUE7V0FDZjtNQUFBLElBQUEsRUFBTSxTQUFBO1FBRUosSUFBQyxDQUFBLElBQUQsR0FBUTtVQUFDLEtBQUEsRUFBTSxLQUFQOztlQUVSLElBQUMsQ0FBQSxFQUFELENBQUksT0FBSixFQUFhLFNBQUE7aUJBQ1gsSUFBQyxDQUFBLEVBQUUsQ0FBQyxFQUFKLENBQU8sV0FBUCxFQUFvQixDQUFBLFNBQUEsS0FBQTttQkFBQSxTQUFDLElBQUQ7cUJBRWxCLEtBQUMsQ0FBQSxNQUFELENBQVE7Z0JBQUMsTUFBQSxJQUFEO2VBQVI7WUFGa0I7VUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQXBCO1FBRFcsQ0FBYjtNQUpJLENBQU47TUFTQSxPQUFBLEVBQVMsU0FBQTtRQUlQLElBQUMsQ0FBQSxFQUFELENBQUksT0FBSixFQUFhLFNBQUE7VUFDWCxLQUFBLENBQU0sZ0JBQU4sRUFBd0IsSUFBQyxDQUFBLElBQXpCO2lCQUNBLElBQUMsQ0FBQSxFQUFFLENBQUMsT0FBSixDQUFZLFdBQVosRUFBeUIsSUFBQyxDQUFBLElBQTFCO1FBRlcsQ0FBYjtRQU9BLElBQUMsQ0FBQSxJQUFELENBQU0sTUFBTjtlQUlBLElBQUMsQ0FBQSxFQUFFLENBQUMsRUFBSixDQUFPLGdCQUFQLEVBQXlCLFNBQUMsSUFBRCxFQUFNLEtBQU47VUFDdkIsS0FBQSxDQUFNLGdCQUFOLEVBQXdCLElBQXhCLEVBQThCLEtBQTlCO2lCQUNBLElBQUMsQ0FBQSxJQUFELENBQU0sZ0JBQU4sRUFBd0IsSUFBeEIsRUFBOEIsS0FBOUI7UUFGdUIsQ0FBekI7TUFmTyxDQVRUOztFQURlO0FBRmpCIiwic291cmNlc0NvbnRlbnQiOlsiQSByaWdodGZ1bC1ob3QgbWl4aW4gYW5kIHN0b3JlIHRvIHN1cHBvcnQgc3BpY3ktYWN0aW9uLXVzZXJcblxuICAgIGRlYnVnID0gKHJlcXVpcmUgJ2RlYnVnJykgXCJzcGljeS1hY3Rpb24tdXNlcjptaXhpblwiXG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IC0+XG4gICAgICBpbml0OiAtPlxuXG4gICAgICAgIEB1c2VyID0ge2FkbWluOmZhbHNlfVxuXG4gICAgICAgIEBvbiAnbW91bnQnLCAtPlxuICAgICAgICAgIEBldi5vbiAndXNlci1kYXRhJywgKHVzZXIpID0+XG4gICAgICAgICAgICAjIGRlYnVnICd1c2VyLWRhdGEnLCB1c2VyXG4gICAgICAgICAgICBAdXBkYXRlIHt1c2VyfVxuXG4gICAgICBpbmNsdWRlOiAtPlxuXG5Ob3RpZmljYXRpb24gZnJvbSBzZXJ2ZXIgd2l0aCB1c2VyLWRhdGEuXG5cbiAgICAgICAgQG9uICdyZWFkeScsIC0+XG4gICAgICAgICAgZGVidWcgJ3JlY2VpdmVkIHJlYWR5JywgQGRhdGFcbiAgICAgICAgICBAZXYudHJpZ2dlciAndXNlci1kYXRhJywgQGRhdGFcblxuT24gWmFwcGFKUy1jbGllbnQgcmVhZHkgd2Ugc2VuZCBhIGdlbmVyaWMgYHN1YnNjcmliZWAgbWVzc2FnZS5cbkluIHJlc3BvbnNlLCB0aGUgc2VydmVyIHdpbGwgZW1pdCBgcmVhZHlgLlxuXG4gICAgICAgIEBlbWl0ICdqb2luJ1xuXG5Ob3RpZmljYXRpb24gZnJvbSBjbGllbnQgd2l0aCB1c2VyIHBhcmFtZXRlci5cblxuICAgICAgICBAZXYub24gJ3NldC11c2VyLXBhcmFtJywgKG5hbWUsdmFsdWUpIC0+XG4gICAgICAgICAgZGVidWcgJ3NldC11c2VyLXBhcmFtJywgbmFtZSwgdmFsdWVcbiAgICAgICAgICBAZW1pdCAnc2V0X3VzZXJfcGFyYW0nLCBuYW1lLCB2YWx1ZVxuIl19
//# sourceURL=/srv/home/stephane/Artisan/Managed/Telecoms/spicy-action-user/mixin.coffee.md